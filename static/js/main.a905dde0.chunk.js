(this.webpackJsonptrello=this.webpackJsonptrello||[]).push([[0],{13:function(e,t,a){},18:function(e,t,a){},19:function(e,t,a){},21:function(e,t,a){},22:function(e,t,a){},28:function(e,t,a){"use strict";a.r(t);var c=a(0),s=a.n(c),i=a(5),n=a.n(i),d=(a(18),a(19),a(1));var r=function(){return Object(d.jsxs)("header",{className:"header",children:[Object(d.jsxs)("ul",{className:"header__list",children:[Object(d.jsx)("li",{className:"list__item",children:Object(d.jsx)("i",{className:"fa fa-bars"})}),Object(d.jsx)("li",{className:"list__item",children:Object(d.jsx)("i",{className:"fa fa-home"})}),Object(d.jsxs)("li",{className:"list__item",children:[Object(d.jsx)("i",{className:"fa fa-table"}),"B\u1ea3ng"]}),Object(d.jsxs)("li",{className:"list__item",children:[Object(d.jsx)("input",{type:"text",placeholder:"Chuy\u1ec3n \u0111\u1ebfn..."}),Object(d.jsx)("i",{className:"fa fa-search"})]})]}),Object(d.jsx)("div",{className:"header__logo",children:Object(d.jsx)("a",{href:"#",children:"Trello"})}),Object(d.jsxs)("ul",{className:"header__list",children:[Object(d.jsx)("li",{className:"list__item",children:Object(d.jsx)("i",{className:"fa fa-plus"})}),Object(d.jsx)("li",{className:"list__item",children:Object(d.jsx)("i",{className:"fa fa-info-circle"})}),Object(d.jsx)("li",{className:"list__item",children:Object(d.jsx)("i",{className:"fa fa-bell"})}),Object(d.jsx)("li",{className:"list__item",children:Object(d.jsx)("div",{className:"item__profile",children:"T"})})]})]})},l=(a(21),a(12)),j=a(3),b=a(2),o=a(6),u=a(4),O=(a(22),a(30)),f=(a(13),s.a.createContext(null));var m=function(e){var t=e.list,a=e.task,s=e.index,i=Object(c.useContext)(f),n=i.updateInputEdit,r=i.toggleEdit,l=Object(c.useRef)(null),j=function(e){if("Enter"===e.key)return O()},o=function(e){""!==e.target.value.trim()?l.current.style.border="2px solid #0079bf":l.current.style.border="2px solid red",n(e.target.value,a.id,t.id)},O=function(){""!==a.content.trim()?r(t.id,a.id,a.content):l.current.focus()};return Object(d.jsx)(u.b,{draggableId:a.id,index:s,children:function(e){return Object(d.jsx)("li",Object(b.a)(Object(b.a)(Object(b.a)({className:"item",ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{onDoubleClick:O,children:a.edit?Object(d.jsx)("input",{className:"input__edit-task",ref:l,value:a.content,onChange:o,onKeyPress:j,onBlur:O,autoFocus:!0}):Object(d.jsx)(d.Fragment,{children:a.content})}))}})};var h=function(e){var t=e.list,a=e.index,s=e.addTask,i=e.deleteList,n=Object(c.useState)(""),r=Object(o.a)(n,2),l=r[0],j=r[1],O=Object(c.useRef)(null),f=function(e){j(e.target.value)},h=function(e){e.preventDefault(),""!==l.trim()?(s(l.trim(),t.id),j("")):(alert("Ti\xeau \u0111\u1ec1 ph\u1ea3i ch\u1ee9a k\xed t\u1ef1!"),j(""),O.current.focus())},p=function(){i(t.id)};return Object(d.jsx)(u.b,{draggableId:t.id,index:a,children:function(e){return Object(d.jsxs)("div",Object(b.a)(Object(b.a)({className:"list",ref:e.innerRef},e.draggableProps),{},{children:[Object(d.jsxs)("div",Object(b.a)(Object(b.a)({className:"list__heading"},e.dragHandleProps),{},{children:[Object(d.jsx)("h3",Object(b.a)(Object(b.a)({},e.dragHandleProps),{},{children:t.title})),Object(d.jsx)("i",{className:"fa fa-trash",onClick:p})]})),Object(d.jsx)(u.c,{droppableId:t.id,children:function(e){return Object(d.jsxs)("ul",Object(b.a)(Object(b.a)({className:"item__wrap"},e.droppableProps),{},{ref:e.innerRef,children:[t.tasks.map((function(e,a){return Object(d.jsx)(m,{task:e,list:t,index:a},e.id)})),e.placeholder]}))}}),Object(d.jsxs)("form",{className:"add__item",onSubmit:h,children:[Object(d.jsx)("input",{className:"add__item--input",ref:O,value:l,onChange:f,type:"text",placeholder:"Th\xeam ti\xeau \u0111\u1ec1..."}),Object(d.jsxs)("button",{className:"add__item--btn",type:"submit",disabled:!l,children:[Object(d.jsx)("i",{className:"fa fa-plus"}),"Th\xeam th\u1ebb"]})]})]}))}})};var p=function(){var e="TRELLO_APP",t=Object(c.useState)({datas:{},dataIds:[]}),a=Object(o.a)(t,2),s=a[0],i=a[1],n=Object(c.useState)(""),r=Object(o.a)(n,2),m=r[0],p=r[1],x=Object(c.useRef)(null);Object(c.useEffect)((function(){var t=localStorage.getItem(e);t&&i(JSON.parse(t))}),[]),Object(c.useEffect)((function(){localStorage.setItem(e,JSON.stringify(s))}),[s]);var _=function(e,t){var a={id:Object(O.a)(),content:e,edit:!1},c=s.datas[t];c.tasks=[].concat(Object(l.a)(c.tasks),[a]),i(Object(b.a)(Object(b.a)({},s),{},{datas:Object(b.a)(Object(b.a)({},s.datas),{},Object(j.a)({},c.id,c))}))},v=function(e){var t=s.datas[e];window.confirm('Ch\u1eafc ch\u1eafn x\xf3a c\u1ed9t "'.concat(t.title.trim(),'"?'))&&function(){delete s.datas[e];var t=s.dataIds.filter((function(t){return t!==e}));i(Object(b.a)(Object(b.a)({},s),{},{dataIds:t}))}()};return Object(d.jsx)(f.Provider,{value:{updateInputEdit:function(e,t,a){var c=s.datas[a];c.tasks=c.tasks.map((function(a){return a.id==t?{id:t,content:e,edit:!0}:a})),i(Object(b.a)(Object(b.a)({},s),{},{datas:Object(b.a)(Object(b.a)({},s.datas),{},Object(j.a)({},c.id,c))}))},toggleEdit:function(e,t,a){var c=s.datas[e];c.tasks=c.tasks.map((function(e){return e.id==t?{id:t,content:a,edit:!e.edit}:e})),i(Object(b.a)(Object(b.a)({},s),{},{datas:Object(b.a)(Object(b.a)({},s.datas),{},Object(j.a)({},c.id,c))}))}},children:Object(d.jsxs)("div",{className:"body",children:[Object(d.jsxs)("form",{className:"add__list",onSubmit:function(e){if(e.preventDefault(),""!==m.trim()){var t=Object(O.a)(),a={id:t,title:m,tasks:[]};i({datas:Object(b.a)(Object(b.a)({},s.datas),{},Object(j.a)({},t,a)),dataIds:[].concat(Object(l.a)(s.dataIds),[t])}),p(""),x.current.focus()}else alert("Danh s\xe1ch ph\u1ea3i ch\u1ee9a k\xed t\u1ef1!"),p(""),x.current.focus()},children:[Object(d.jsx)("input",{className:"add__list--input",ref:x,value:m,onChange:function(e){p(e.target.value)},type:"text",placeholder:"Th\xeam danh s\xe1ch"}),Object(d.jsx)("button",{className:"add__list--btn",type:"submit",disabled:!m,children:"ADD"})]}),Object(d.jsx)(u.a,{onDragEnd:function(e){if(e.destination){if("LIST"===e.type){var t=s,a=t.dataIds.splice(e.source.index,1),c=Object(o.a)(a,1)[0];return t.dataIds.splice(e.destination.index,0,c),void i(t)}var n=s.datas[e.source.droppableId],d=s.datas[e.destination.droppableId],r=n.tasks.filter((function(t){return t.id===e.draggableId}))[0];e.source.droppableId==e.destination.droppableId?(n.tasks.splice(e.source.index,1),n.tasks.splice(e.destination.index,0,r),i(Object(b.a)(Object(b.a)({},s),{},{datas:Object(b.a)(Object(b.a)({},s.datas),{},Object(j.a)({},n.id,d))}))):(n.tasks.splice(e.source.index,1),d.tasks.splice(e.destination.index,0,r),i(Object(b.a)(Object(b.a)({},s),{},{datas:Object(b.a)(Object(b.a)({},s.datas),{},Object(j.a)({},d.id,d))})))}},children:Object(d.jsx)(u.c,{droppableId:"LIST",type:"LIST",direction:"horizontal",children:function(e){return Object(d.jsxs)("div",Object(b.a)(Object(b.a)({className:"content"},e.droppableProps),{},{ref:e.innerRef,children:[s.dataIds.map((function(e,t){var a=s.datas[e];return Object(d.jsx)(h,{list:a,index:t,addTask:_,deleteList:v},e)})),e.placeholder]}))}})})]})})};var x=function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(r,{}),Object(d.jsx)(p,{})]})};a(27);n.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(x,{})}),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.a905dde0.chunk.js.map